  crm-mangement-server.yml: |
    core: 
      configuration-clients:
        credit-card-endpoint: http://credit-card-service:8080
    defaults:
      core-service: &default-core-service
        dta-q-read:
          library: ${system-core.queue-library}
          queue-name: ${system-core.queue-name-read}
        dta-q-write:
          library: ${system-core.queue-library} 
          queue-name: ${system-core.queue-name-write}  
    regional:
      services:
        crm:
          remote-address: http://${host.crm}/~ws/wsgestion/gestion.asmx
          pooled: true
          pool-config:
            max-size: 8
            min-idle: 4
            max-idle: 4
          timeouts:
            request: 5m
          properties:
            employeeSessionId: 0
            systemSessionId: 36
            tt: 30
            process: 18699
            company: 2
            employee: 0
        crm-attachment:
          employee-session-id: 0
          system-session-id: 36
          tt: 30
          employee-file-create: 0
          remote-address: http://${host.crm}/~ws/WsArchivoAdjunto/WsArchivoAdjunto.asmx
          pooled: true
          pool-config:
            max-size: 8
            min-idle: 4
            max-idle: 4
          timeouts:
            request: 5m
    crm:
      integration:
        all-processes:
          enabled: true
          attention-area: "BANPAIS APP"
          configuration:
            employeeSessionId: "  0"
            systemSessionId: "1"
            tt: "39"      
          default-process:
            debug: true
        default-step:
          id: "default-step"
          title: Ingrese los datos que se le solicita
        global-configuration:
          employeeSessionId: "0"
          systemSessionId: "0"
          tt: "30"          
          company: "2"
          employee: "0"
        default-field-properties: #Afecta a propiedades de los campos GLOBAL (TODAS LAS GESTIONES)
          value-for-crm: "data.^[id==#field.getStep()].components.^[code==#field.getCode()].text"
          conversion-bean-name: coreDefaultValueBeanConversionFieldValue
          placeholder-text-policy: capitalize-first-letter-and-trim
          tooltip-text-policy: capitalize-first-letter-and-trim
          options-text-policy: capitalize-first-letter-and-trim
          header-text-policy: capitalize-first-letter-and-trim
          title-text-policy: capitalize-first-letter-and-trim
          without-padding-bottom: true
          keyboard: ALPHANUMERIC
          send-to-app: true
          title-policy: none
          input-type: TEXT
          disabled: false
          required: true
          min-length: 1
          type: INPUT
        layers: #Se debe tomar en cuenta que los layers se agregan por "Capas", y en orden del registro
          "[$[?(@.dataType==1)]]":
            input-type: NUMBER
          "[$[?(@.dataType==3)]]":
            type: DROPDOWN
            value-for-crm: "data.^[id==#field.getStep()].components.^[code==#field.getCode()].code"
          "[$[?(@.crmDataType==152)]]":
            keyboardExceptions: "A-Z"
        global-field-overrides: #Son los overrides de los campos en general
          "193294":
            value-for-crm: "BANCO DEL PAIS S. A."
        global-static-fields: #Afecta a propiedades de los campos GLOBAL (X CAMPO)
          "title": &crm-title-medium-label
            header: ""
            placeholder: ""
            title: ""
            hidden: true
            type: "LABEL"
            alignment: "center_horizontal"
            maxLength: 60
            minLength: 1
          "mail": &crm-field-mail
            header: "Correo electrónico"
            placeholder: "Correo electrónico"
            maxLength: 60
            minLength: 8
            validations: 
              - regularExpression: '^[a-z0-9!#$%&*+\\/=?^_`{|}~-]+(?:\\\\.[a-z0-9!#$%&*+\\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$'
                message: "Correo inválido"
          "accounts": &crm-field-accounts
            header: "Selecciona tu cuenta"
            placeholder: "Selecciona tu cuenta"
            placeholder-color: "5A5A5A"
            inputType: "TEXT"
            type: "ACCOUNTS"
            title: ""
            dropdown-id: "codecount"
          "accountsTC": &crm-field-accountsTC
            header: "Selecciona una tarjeta"
            placeholder: "Selecciona una tarjeta"
            inputType: "TEXT"
            type: "ACCOUNTS"
            placeholder-color: "5A5A5A"
            title: ""
            dropdown-id: "codetc"
          "accountsDetail": &crm-field-accountsDetail
            placeholder-color: "5A5A5A"
            inputType: "TEXT"
            type: "ACCOUNT_DETAIL"
            title: ""
            dropdown-id: "detacode"
          "phone": &crm-field-phone
            header: "Número de teléfono"
            placeholder: "Número de teléfono"
            keyboard: "NUMERIC"
            maxLength: 8
            minLength: 8
          "valor": &crm-field-valor
            header: "Monto"
            placeholder: "0.00"
            keyboard: "NUMERIC"
            type: "DECIMAL"
            maxLength: 13
            minLength: 2
            decimalPlaces: 2
          "date": &crm-field-date
            header: "Fecha de"
            placeholder: "Ingresa dd/mm/aaaa"
            keyboard: "NUMERIC"
            type: "DATE"
            date-format: DDMMAAAA
          "inputArea": &crm-field-inputArea
            header: "Observaciones"
            placeholder: "Observaciones"
            type: "INPUT_AREA"
            max-items: 5
          "selage": &crm-field-selage
            header: "Selecciona una Agencia o Área BP"
            placeholder: "Agencia o Área BP"
            placeholder-text-policy: none
            placeholder-color: "5A5A5A"
            options-text-policy: none
            header-text-policy: none
            title-text-policy: none
            inputType: "TEXT"
            type: "DROPDOWN"
            title: ""
            value-for-crm: "data.^[id==#field.getStep()].components.^[code==#field.getCode()].text"
          "inputAlfa": &crm-field-inputAlfa
            type: INPUT
            input-Type: TEXT
            keyboard: ALPHANUMERIC
            max-length: 60
            min-length: 1
          "inputNumber": &crm-field-inputNumber
            type: INPUT
            input-type: NUMBER
            keyboard: NUMERIC
            max-length: 10
            min-length: 1
          "inputDisabled": &crm-field-inputDisabled
            disabled: true
            enable: false
            type: "INPUT"
            textColor: 0A4989
            backgroundColor: D3D3D3
            options: "" 
            maxLength: 60
            minLength: 1
            value-for-crm: "data.^[id==#field.getStep()].components.^[code==#field.getCode()].text"
          "dropdown": &crm-field-dropdown
            options-text-policy: none
            placeholder-color: "5A5A5A"
            type: "DROPDOWN"
            title: ""
            dropdown-id: "dropcod"
            value-for-crm: "data.^[id==#field.getStep()].components.^[code==#field.getCode()].text"
          "radiobutton": &crm-field-radiobutton
            type: "RADIOBUTTON"
            value-for-crm: "data.^[id==#field.getStep()].components.^[code==#field.getCode()].text"
          "checkbox": &crm-field-checkbox
            type: "CHECKBOX"
          "inputList": &crm-field-inputList
            type: "INPUT_LIST"
          "message": &crm-field-message
            type: "MESSAGE"
            textColor: 5A5A5A
          "subform": &crm-field-subform
            placeholder-color: "5A5A5A"
            title: ""
            type: "SUBFORM"
            dropdown-id: "subfcod"
          "label": &crm-field-label
            type: "LABEL"
            header: ""
            alingTop: -25
            placeholder: ""
            required: false
            maxLength: 60
            minLength: 1
            endpoint: ""
            validations: ""
            alignment: "center_horizontal"
        processes:
          16056:
            debug: false
            title: "Solicitud de reversión cobros tarjetas de crédito"
            sort-fields-policy: INDEX_ORDER
            core-services-pre-crm:
              generalInfo:
                service: app-infgra
                properties:
                  INFORMATION_TYPE: "'G'"
              infoAccounts:
                service: app-infgra
                properties:
                  INFORMATION_TYPE: "'C'"
            tags:
              - retiro
            steps:
              - id: "1"
                title: "Solicitud de reversión cobros tarjetas de crédito"
                currentProgress: 0
                progressGoal: 0
                next-step: "finalStep"
                showCancelButton: true
            default-field-properties: #Afecta a propiedades de los campos solo de la gestion
              step: "1"
            process-fields:
              "176006":
                send-to-app: false
                value-for-crm: "generalInfo.^[id=='NomCom'].value"
              "176007":
                send-to-app: false
                value-for-crm: "generalInfo.^[id=='numeid'].value"
              "176008":
                index: 3
                <<: *crm-field-mail
                header: "Ingresa tus datos personales"
              "176009":
                index: 4
                <<: *crm-field-phone
                hiddenHeader: true
                placeholder: "No. de celular"
              "176038": #missing
                index: 5
                <<: *crm-field-dropdown
                header: "Tipo de reversión"
                placeholder: "Selecciona el tipo de reversión"
              "tarjeta":
                index: 2
                <<: *crm-field-accountsTC
                endpoint: /v1-crypt/crm/accounts?type=CREDIT_CARD&status=ACTIVE
              "176010":
                send-to-app: false
                variables-for-crm:
                 account: "data.^[id=='1'].components.^[code=='tarjeta'].text"
                 accountObj: "infoAccounts.^[number==#account].accountFormatted"
                value-for-crm: "#accountObj.substring(12,16)"
              "176011":
                send-to-app: false
                variables-for-crm:
                 account: "data.^[id=='1'].components.^[code=='tarjeta'].text"
                 accountObj: "infoAccounts.^[number==#account]"
                value-for-crm: "#accountObj.number"
              "176012":
                index: 6
                <<: *crm-field-valor
                header: "Monto a reversar"
              "176076": # missing
                index: 7
                <<: *crm-field-date
                header: "Fecha de cargo"
              "176013":
                index: 8
                <<: *crm-field-inputArea
              "193294":
                value-for-crm: "generalInfo.^[id=='banpai'].value"
                send-to-app: false
              "193295":
                value-for-crm: "generalInfo.^[id=='dszona'].value"
                send-to-app: false
              "193296": # missing
                index: 7
                <<: *crm-field-radiobutton
                header: "Selecciona la moneda" 
                options:
                  - code: "L"
                    title: "Lempiras"
                  - code: "Us$"
                    title: "Dólares"
                  - code: "€"
                    title: "Euros"
          16065:
            debug: false
            title: "Extrafinanciamiento de compras"
            sort-fields-policy: INDEX_ORDER
            core-services-pre-crm:
              generalInfo:
                service: app-infgra
                properties:
                  INFORMATION_TYPE: "'G'"
              infoAccounts:
                service: app-infgra
                properties:
                  INFORMATION_TYPE: "'C'"
            tags:
              - retiro
            steps:
              - id: "1"
                title: "Extrafinanciamiento de compras"
                currentProgress: 0
                progressGoal: 0
                next-step: "finalStep"
                showCancelButton: true
            default-field-properties:
              step: "1"
            process-fields:
              "176039":
                send-to-app: false
                value-for-crm: "generalInfo.^[id=='NomCom'].value"
              "176040":
                send-to-app: false
                value-for-crm: "generalInfo.^[id=='numeid'].value"
              "176041":
                index: 3
                <<: *crm-field-mail
                header: "Ingresa tus datos personales"
              "176042":
                index: 4
                <<: *crm-field-phone
                hiddenHeader: true
                placeholder: "No. de celular"
              "tarjeta":
                index: 2
                <<: *crm-field-accountsTC
                endpoint: /v1-crypt/crm/accounts?type=CREDIT_CARD&status=ACTIVE
              "176043":
                send-to-app: false
                variables-for-crm:
                 account: "data.^[id=='1'].components.^[code=='tarjeta'].text"
                 accountObj: "infoAccounts.^[number==#account].accountFormatted"
                value-for-crm: "#accountObj.substring(12,16)"
              "176044":
                send-to-app: false
                variables-for-crm:
                 account: "data.^[id=='1'].components.^[code=='tarjeta'].text"
                 accountObj: "infoAccounts.^[number==#account]"
                value-for-crm: "#accountObj.number"
              "176045":
                index: 5
                <<: *crm-field-inputDisabled
                text: "Extrafinanciamiento"
                value-for-crm: "'EXTRAFINANCIAMIENTO'"
              "176046":
                index: 6
                <<: *crm-field-inputAlfa
                header: "Lugar o comercio"
                placeholder: "Ingresa el nombre del comercio"
              "176047":
                index: 7
                <<: *crm-field-inputArea
              "193307":
                send-to-app: false
                value-for-crm: "generalInfo.^[id=='banpai'].value"
              "193308":
                send-to-app: false
                value-for-crm: "generalInfo.^[id=='dszona'].value"
          16067:
            debug: false
            title: "Solicitud de constancia de tarjeta de crédito - EVALUATION/BACKEND"
            sort-fields-policy: INDEX_ORDER
            core-services-pre-crm:
              generalInfo:
                service: app-infgra
                properties:
                  INFORMATION_TYPE: "'G'"
              infoAccounts:
                service: app-infgra
                properties:
                  INFORMATION_TYPE: "'C'"
              debitarACuenta:
                service: app-debtar
                variables:
                  account: data.^[id=='1'].components.^[code=='cuenta'].text
                  accountObj: infoAccounts.^[number==#account]
                properties:
                  ACCOUNT_NUMBER: "#accountObj.number"
                  stop-if-throws: true
                code: BAD_REQUEST
                message: Error en pago de constancia
                evaluation: "data.^[id=='1'].components.^[code=='cuenta'].text != null"
            tags:
              - retiro
            steps:
              - id: "1"
                title: "Solicitud de constancia de tarjeta de crédito"
                currentProgress: 0
                progressGoal: 0
                next-step: "finalStep"
                showCancelButton: true
            default-field-properties:
              step: "1"
            process-fields:
              "175837":
                send-to-app: false
                value-for-crm: "generalInfo.^[id=='NomCom'].value"
              "175838":
                send-to-app: false
                value-for-crm: "generalInfo.^[id=='numeid'].value"
              "175839":
                index: 2
                <<: *crm-field-mail
                header: "Ingresa tus datos personales"
              "175840":
                index: 3
                <<: *crm-field-phone
                hiddenHeader: true
                placeholder: "No. de celular"
              "175841":
                index: 4
                <<: *crm-field-inputAlfa
                hiddenHeader: true
                placeholder: "Dirección de residencia"
              "175842":
                index: 6
                <<: *crm-field-date
                header: "Fecha de la cita en la embajada"
                hidden: true
              "tarjeta":
                index: 8
                <<: *crm-field-accountsTC
                endpoint: /v1-crypt/crm/accounts?type=CREDIT_CARD&status=ACTIVE
              "175843":
                send-to-app: false
                variables-for-crm:
                 account: "data.^[id=='1'].components.^[code=='tarjeta'].text"
                 accountObj: "infoAccounts.^[number==#account].accountFormatted"
                value-for-crm: "#accountObj.substring(12,16)"
              "175844":
                send-to-app: false
                variables-for-crm:
                 account: "data.^[id=='1'].components.^[code=='tarjeta'].text"
                 accountObj: "infoAccounts.^[number==#account]"
                value-for-crm: "#accountObj.number"
              "185810": # missing
                index: 10
                <<: *crm-field-selage
              "175845":
                send-to-app: false
                value-for-crm: "' '"
              "193244":
                send-to-app: false
                value-for-crm: "generalInfo.^[id=='banpai'].value"
              "193245":
                send-to-app: false
                value-for-crm: "generalInfo.^[id=='dszona'].value"
              "217003":
                send-to-app: false
                variables-for-crm:
                 account: "data.^[id=='1'].components.^[code=='tarjeta'].text"
                 accountObj: "infoAccounts.^[number==#account]"
                value-for-crm: "#accountObj.accountFormatted"
              "217004": # missing
                index: 5
                <<: *crm-field-radiobutton
                header: "Tipo de constancia" 
                options:
                  - title: CRÉDITO VIGENTE
                    code: Crédito Vigente
                    index: 1
                    showComponents:
                      - code: "175842"
                        visibility: false
                      - code: "217005"
                        visibility: false
                      - code: "cuenta"
                        visibility: true
                  - title: DIRIGIDA CON SALDO
                    code: Dirigida con saldo
                    index: 2
                    showComponents:
                      - code: "175842"
                        visibility: false
                      - code: "217005"
                        visibility: false
                      - code: "cuenta"
                        visibility: true
                  - title: EMBAJADA
                    code: Embajada
                    index: 3
                    showComponents:
                      - code: "175842"
                        visibility: true
                      - code: "217005"
                        visibility: false
                      - code: "cuenta"
                        visibility: false
                  - title: FINIQUITO
                    code: Finiquito
                    index: 4
                    showComponents:
                      - code: "175842"
                        visibility: false
                      - code: "217005"
                        visibility: true
                      - code: "cuenta"
                        visibility: false
              "217005": # missing
                index: 7
                <<: *crm-field-date
                header: "Fecha Final"
                hidden: true
              "270607":
                send-to-app: false
                value-for-crm: "'0.00'" # EN CEROS SEGÚN HRIVERA LUN 5 DIC
              "272274":
                send-to-app: false
                value-for-crm: "' '" # EN BLANCO SEGÚN HRIVERA LUN 5 DIC
              "cuenta":
                index: 9
                <<: *crm-field-accounts
                endpoint: /v1-crypt/crm/accounts?type=CHECKING&status=ACTIVE
                header: "Selecciona la cuenta a debitar"
                placeholder: "Cuenta a debitar"
                hidden: true
              "msg1":
                index: 11
                <<: *crm-field-message
                header-text-policy: none
                header: "NOTA:"
                text: "La comisión por emisión de la constancia es de L.150.00\\n\\t•Solicitudes recibidas después de las 4:00 PM procesarán al siguiente día hábil.\\n\\t•Su constancia estará disponible en la agencia solicitada en 4 días hábiles."
          16069:
            debug: false
            title: "Actualización de datos SC/HN"
            sort-fields-policy: INDEX_ORDER
            core-services-pre-crm:
              generalInfo:
                service: app-infgra
                properties:
                  INFORMATION_TYPE: "'G'"
              infoAccounts:
                service: app-infgra
                properties:
                  INFORMATION_TYPE: "'C'"
            tags:
              - retiro
            steps:
              - id: "1"
                title: "Actualización de datos SC/HN"
                currentProgress: 0
                progressGoal: 0
                next-step: "finalStep"
                showCancelButton: true
            default-field-properties:
              step: "1"
            process-fields:
              "175740":
                send-to-app: false
                value-for-crm: "generalInfo.^[id=='NomCom'].value"
              "175741":
                index: 3
                <<: *crm-field-mail
                header: "Ingresa tus datos personales"
              "175742":
                send-to-app: false
                value-for-crm: "generalInfo.^[id=='numeid'].value"
              "175743":
                index: 4
                <<: *crm-field-phone
                hiddenHeader: true
                placeholder: "No. de celular"
              "direccion":
                index: 5
                <<: *crm-field-subform
                header: "Dirección"
                placeholder: "Ingresa una dirección"
                child-component:
                - components:
                    - code: barrio
                      <<: *crm-field-inputAlfa
                      hiddenHeader: true
                      placeholder: "Barrio/colonia/residencia"
                      without-padding-bottom: true
                    - code: calle
                      <<: *crm-field-inputAlfa
                      hiddenHeader: true
                      placeholder: "Calle"
                      without-padding-bottom: true
                    - code: avenida
                      <<: *crm-field-inputAlfa
                      hiddenHeader: true
                      placeholder: "Avenida"
                      without-padding-bottom: true
                    - code: bloque
                      <<: *crm-field-inputAlfa
                      hiddenHeader: true
                      placeholder: "Bloque"
                      without-padding-bottom: true
                    - code: etapa
                      <<: *crm-field-inputAlfa
                      hiddenHeader: true
                      placeholder: "Etapa"
                      without-padding-bottom: true
                    - code: puntref
                      <<: *crm-field-inputAlfa
                      hiddenHeader: true
                      placeholder: "Punto de referencia"
                      without-padding-bottom: true
                    - code: casa
                      <<: *crm-field-inputAlfa
                      hiddenHeader: true
                      placeholder: "No. de casa"
                      without-padding-bottom: true
                    - code: coddep
                      <<: *crm-field-dropdown
                      hiddenHeader: true
                      placeholder: "Departamento"
                      without-padding-bottom: true
                      endpoint: "/v1-crypt/catalogs/departments?codpai=001"
                      dropdown-id: "coddep"
                    - code: codmun 
                      <<: *crm-field-dropdown #missing
                      hiddenHeader: true
                      placeholder: "Municipio"
                      without-padding-bottom: true
                      endpoint: "/v1-crypt/catalogs/municipalities?codpai=001"
                      dropdown-id: "codmun"
                      parent: "coddep"
              "175755": #missing
                send-to-app: false
                value-for-crm: "#joinWithoutNull(' ',data.^[id=='1'].components.^[code=='direccion'].childComponent[0].components.^[code=='barrio'].text
                                                    ,data.^[id=='1'].components.^[code=='direccion'].childComponent[0].components.^[code=='calle'].text
                                                    ,data.^[id=='1'].components.^[code=='direccion'].childComponent[0].components.^[code=='avenida'].text
                                                    ,data.^[id=='1'].components.^[code=='direccion'].childComponent[0].components.^[code=='bloque'].text
                                                    ,data.^[id=='1'].components.^[code=='direccion'].childComponent[0].components.^[code=='etapa'].text
                                                    ,data.^[id=='1'].components.^[code=='direccion'].childComponent[0].components.^[code=='puntref'].text
                                                    ,data.^[id=='1'].components.^[code=='direccion'].childComponent[0].components.^[code=='casa'].text
                                                    ,data.^[id=='1'].components.^[code=='direccion'].childComponent[0].components.^[code=='departamento'].text
                                                    ,data.^[id=='1'].components.^[code=='direccion'].childComponent[0].components.^[code=='municipio'].text)"
              "175756": #missing
                send-to-app: false
                value-for-crm: data.^[id=='1'].components.^[code=='direccion'].childComponent[0].components.^[code=='municipio'].text
              "tarjeta":
                index: 2
                <<: *crm-field-accountsTC
                endpoint: /v1-crypt/crm/accounts?type=CREDIT_CARD&status=ACTIVE
              "175757":
                send-to-app: false
                variables-for-crm:
                 account: "data.^[id=='1'].components.^[code=='tarjeta'].text"
                 accountObj: "infoAccounts.^[number==#account].accountFormatted"
                value-for-crm: "#accountObj.substring(12,16)"
              "175758":
                send-to-app: false
                variables-for-crm:
                 account: "data.^[id=='1'].components.^[code=='tarjeta'].text"
                 accountObj: "infoAccounts.^[number==#account]"
                value-for-crm: "#accountObj.number"
              "175759":
                send-to-app: false
                value-for-crm: "' '"
              "193195":
                send-to-app: false
                value-for-crm: "generalInfo.^[id=='banpai'].value"
              "193196":
                send-to-app: false
                value-for-crm: "generalInfo.^[id=='dszona'].value"
          16074:
            debug: false
            title: "Solicitud de nuevo pin de tarjeta de crédito"
            sort-fields-policy: INDEX_ORDER
            core-services-pre-crm:
              generalInfo:
                service: app-infgra
                properties:
                  INFORMATION_TYPE: "'G'"
              infoAccounts:
                service: app-infgra
                properties:
                  INFORMATION_TYPE: "'C'"
            tags:
              - retiro
            steps:
              - id: "1"
                title: "Solicitud de nuevo pin de tarjeta de crédito"
                currentProgress: 0
                progressGoal: 0
                next-step: "finalStep"
                showCancelButton: true
            default-field-properties:
              step: "1"
            process-fields:
              "175921": 
                send-to-app: false
                value-for-crm: "generalInfo.^[id=='NomCom'].value"
              "175922": 
                send-to-app: false
                value-for-crm: "generalInfo.^[id=='numeid'].value"
              "175923":
                index: 4
                <<: *crm-field-mail
                hiddenHeader: true
              "175924":
                index: 3
                <<: *crm-field-phone
                header: "Ingresa tus datos personales"
                placeholder: "No. de celular"
              "tarjeta":
                index: 2
                <<: *crm-field-accountsTC
                endpoint: /v1-crypt/crm/accounts?type=CREDIT_CARD&status=ACTIVE
              "175925": 
                send-to-app: false
                variables-for-crm:
                 account: "data.^[id=='1'].components.^[code=='tarjeta'].text"
                 accountObj: "infoAccounts.^[number==#account].accountFormatted"
                value-for-crm: "#accountObj.substring(12,16)"
              "175926": 
                send-to-app: false
                variables-for-crm:
                 account: "data.^[id=='1'].components.^[code=='tarjeta'].text"
                 accountObj: "infoAccounts.^[number==#account]"
                value-for-crm: "#accountObj.number"
              "175927": 
                index: 5
                <<: *crm-field-selage
              "175928":
                send-to-app: false
                value-for-crm: "' '"
              "193288":
                send-to-app: false
                value-for-crm: "generalInfo.^[id=='banpai'].value"
              "193289": 
                send-to-app: false
                value-for-crm: "generalInfo.^[id=='dszona'].value"
          16088:
            debug: false
            title: "Solicitud de tarjeta de crédito adicional"
            sort-fields-policy: INDEX_ORDER
            core-services-pre-crm:
              generalInfo:
                service: app-infgra
                properties:
                  INFORMATION_TYPE: "'G'"
              infoAccounts:
                service: app-infgra
                properties:
                  INFORMATION_TYPE: "'C'"
            tags:
              - retiro
            steps:
              - id: "1"
                title: "Solicitud de tarjeta de crédito adicional"
                currentProgress: 0
                progressGoal: 0
                next-step: "finalStep"
                showCancelButton: true
            default-field-properties:
              step: "1"
            process-fields:
              "175960":
                send-to-app: false
                value-for-crm: "generalInfo.^[id=='NomCom'].value"
              "175961": #missing
                send-to-app: false
                value-for-crm: "generalInfo.^[id=='numid'].value"  
              "175962":
                index: 4  
                <<: *crm-field-mail
                hiddenHeader: true
              "175963":
                index: 3
                <<: *crm-field-phone
                header: "Ingresa tus datos personales"
                placeholder: "No. de celular"
              "tarjeta":
                index: 2
                <<: *crm-field-accountsTC
                endpoint: /v1-crypt/crm/accounts?type=CREDIT_CARD&status=ACTIVE
              "175964":
                send-to-app: false
                variables-for-crm:
                 account: "data.^[id=='1'].components.^[code=='tarjeta'].text"
                 accountObj: "infoAccounts.^[number==#account].accountFormatted"
                value-for-crm: "#accountObj.substring(12,16)"
              "175965":
                send-to-app: false
                variables-for-crm:
                 account: "data.^[id=='1'].components.^[code=='tarjeta'].text"
                 accountObj: "infoAccounts.^[number==#account]"
                value-for-crm: "#accountObj.number"
              "175966":
                index: 14
                <<: *crm-field-selage
              "175967":
                index: 6
                <<: *crm-field-inputAlfa
                header: "Datos del tarjetahabiente adicional"
                placeholder: "Nombre del tarjetahabiente adicional"   
              "175968":
                index: 7
                <<: *crm-field-inputNumber
                hiddenHeader: true
                placeholder: "Número de identidad"
              "175969":
                index: 5
                <<: *crm-field-valor
                header: "Límite en tarjeta adicional"
              "175970":
                send-to-app: false
                value-for-crm: "' '"
              "193297":
                send-to-app: false
                value-for-crm: "generalInfo.^[id=='banpai'].value"
              "193298":
                send-to-app: false
                value-for-crm: "generalInfo.^[id=='dszona'].value" 
              "441747":
                index: 8
                <<: *crm-field-inputAlfa
                hiddenHeader: true
                placeholder: "Parentesco"  
              "441748":
                index: 9
                <<: *crm-field-inputAlfa
                hiddenHeader: true
                placeholder: "Empresa donde labora"  
              "441749":
                index: 10
                <<: *crm-field-inputAlfa
                hiddenHeader: true
                placeholder: "Puesto que desempeña"
              "441750":
                index: 11
                <<: *crm-field-phone
                hiddenHeader: true
                placeholder: "No. de celular"
              "441751":
                index: 12
                <<: *crm-field-inputAlfa
                hiddenHeader: true
                placeholder: "Dirección de domicilio"
              "441752":
                index: 13
                <<: *crm-field-mail
                hiddenHeader: true
          16461:
            debug: false
            title: "Solicitud de aumento de límite en tarjeta de crédito - CAMPOS +1/BACKEND"
            sort-fields-policy: INDEX_ORDER
            core-services-pre-crm:
              generalInfo:
                service: app-infgra
                properties:
                  INFORMATION_TYPE: "'G'"
              infoAccounts:
                service: app-infgra
                properties:
                  INFORMATION_TYPE: "'C'"
            tags:
              - retiro
            steps:
              - id: "1"
                title: "Solicitud de aumento de límite en tarjeta de crédito"
                currentProgress: 0
                progressGoal: 0
                next-step: "finalStep"
                showCancelButton: true
            default-field-properties:
              step: "1"
            process-fields:
              "183440":
                send-to-app: false
                value-for-crm: "generalInfo.^[id=='NomCom'].value"
              "183441":
                send-to-app: false
                value-for-crm: "generalInfo.^[id=='numeid'].value" 
              "183442":
                send-to-app: false
                value-for-crm: "generalInfo.^[id=='fecnac'].value" 
              "183443":
                send-to-app: false
                value-for-crm: "'00.0'" # SE DEBE OBTENER DEL BXISALDOACTUAL
              "183444":
                index: 12
                <<: *crm-field-valor
                header: "Límite solicitado"
              "186136":
                send-to-app: false
                value-for-crm: "'00.0'" # SE DEBE HACER EL CALCULO DE LA 183443 + 183444
              "183445":
                index: 3
                <<: *crm-field-dropdown
                header: "Selecciona el tipo de tarjeta"
                placeHolder: "Selecciona el tipo de tarjeta"
              "tarjeta":
                index: 2
                <<: *crm-field-accountsTC
                endpoint: /v1-crypt/crm/accounts?type=CREDIT_CARD&status=ACTIVE
              "183446":
                send-to-app: false
                variables-for-crm:
                 account: "data.^[id=='1'].components.^[code=='tarjeta'].text"
                 accountObj: "infoAccounts.^[number==#account]"
                value-for-crm: "#accountObj.number"
              "183447":
                send-to-app: false
                value-for-crm: "'PERMANENTE'"
              "183439":
                send-to-app: false
                value-for-crm: "' '"
              "183448":
                index: 6
                <<: *crm-field-inputAlfa
                hiddenHeader: true
                placeholder: "Dirección de residencia"
              "183449":
                index: 9
                <<: *crm-field-inputAlfa
                hiddenHeader: true
                placeholder: "Nombre del lugar de trabajo"
              "183450":
                index: 10
                <<: *crm-field-inputAlfa
                hiddenHeader: true
                placeholder: "Puesto que desempeñas"
              "183451":
                index: 11
                <<: *crm-field-valor
                header: "Salario mensual"
              "183452":
                index: 7
                <<: *crm-field-inputAlfa
                hiddenHeader: true
                placeholder: "Direccion completa del trabajo"
              "183453":
                index: 4
                header: "Ingresa tus datos personales"
                <<: *crm-field-phone
                placeholder: "No. de celular"
              "183454": #missing
                send-to-app: false
                value-for-crm: "data.^[id==#field.getStep()].components.^[code==183453].text"
              "183455":
                index: 8
                <<: *crm-field-phone
                hiddenHeader: true
                placeholder: "Teléfono de trabajo"
              "183456":
                index: 5
                <<: *crm-field-mail
                hiddenHeader: true
              "193312":
                send-to-app: false
                value-for-crm: "generalInfo.^[id=='banpai'].value"
              "193313":
                send-to-app: false
                value-for-crm: "generalInfo.^[id=='dszona'].value"
              "195406":
                send-to-app: false
                value-for-crm: "'GESTION ESTRATEGICA'"
          17154:
            debug: false
            title: "Dinero no dispensado en Cajeros Automáticos BP - Tarjeta débito - SELRET"
            sort-fields-policy: INDEX_ORDER
            core-services-pre-crm:
              generalInfo:
                service: app-infgra
                properties:
                  INFORMATION_TYPE: "'G'"
              infoAccounts:
                service: app-infgra
                properties:
                  INFORMATION_TYPE: "'C'"
              lastMoves:
                service: app-cnmovt
            tags:
              - retiro
            steps:
              - id: "1"
                title: "Dinero no dispensado en Cajeros Automáticos BP"
                currentProgress: 0
                progressGoal: 0
                next-step: "finalStep"
                showCancelButton: true 
            default-field-properties:
              step: "1"
            process-fields:
              "200325":
                send-to-app: false
                value-for-crm: "generalInfo.^[id=='NomCom'].value"
              "200326":
                index: 2
                <<: *crm-field-accounts
                endpoint: /v1-crypt/crm/accounts?type=CHECKING&status=ACTIVE
                options:
                  - code: "CHECKING"
                    showComponents:
                      - code: "selret"
                        disabled: false
                        visibility: true
                variables-for-crm:
                 account: "data.^[id=='1'].components.^[code=='200326'].text"
                 accountObj: "infoAccounts.^[number==#account]"
                value-for-crm: "#accountObj.number"
              "200327":
                index: 3
                <<: *crm-field-phone
                placeholder: "Ingresa tu número de teléfono"
              "200328":
                send-to-app: false
                value-for-crm: "data.^[id==#field.getStep()].components.^[code==200327].text"
              "200321":
                index: 4
                <<: *crm-field-mail
                placeholder: "Ingresa tu correo electrónico"
              "200329":
                send-to-app: false
                value-for-crm: "generalInfo.^[id=='numeid'].value"
              "200330":
                send-to-app: false
                value-for-crm: "generalInfo.^[id=='dircli'].value"
              "200331":
                send-to-app: false
                variables-for-crm:
                 account: "data.^[id=='1'].components.^[code=='200326'].text"
                 accountObj: "infoAccounts.^[number==#account]"
                value-for-crm: "#accountObj.currency"
              "200332":
                send-to-app: false
                text: "GregorianCalendar.getTime()"
                value-for-crm: ""            
              "200312":
                send-to-app: false
                value-for-crm: "generalInfo.^[id=='mvalor'].value"
              "200333":
                send-to-app: false
                value-for-crm: "'2.1.080'"     
              "200334":
                send-to-app: false
                value-for-crm: "generalInfo.^[id=='dszona'].value"
              "200313":
                send-to-app: false
                value-for-crm: "generalInfo.^[id=='CIF'].value"
              "200314":
                index: 7
                <<: *crm-field-valor
                header: "Ingrese monto a reclamar"
                hidden: true
                options: "" #Para que no envie lo que viene en el catalogo 
              "selret": #missing
                index: 5
                <<: *crm-field-accountsDetail
                header: "Retiros realizados"
                placeholder: "Selecciona el retiro"
                parent: "200326"
                disabled: true
                visibility: true
              "200315":
                send-to-app: false
                variables-for-crm:
                 account: "data.^[id=='1'].components.^[code=='selret'].text"
                 accountObj: "lastMoves.^[number==#account]"
                value-for-crm: "#accountObj.reference"
              "200316":
                send-to-app: false
                value-for-crm: "'NATURAL'"
              "200317":
                send-to-app: false
                variables-for-crm:
                 account: "data.^[id=='1'].components.^[code=='selret'].text"
                 accountObj: "lastMoves.^[number==#account]"
                value-for-crm: "#accountObj.substring(0,10)"
              "200318":
                send-to-app: false
                variables-for-crm:
                 account: "data.^[id=='1'].components.^[code=='selret'].text"
                 accountObj: "lastMoves.^[number==#account]"
                value-for-crm: "#accountObj.substring(12,8)"
              #"200319":
              #   value-for-crm: TARJETA DEL RETIRO SELECCIONADO
              #"200336":
                # value-for-crm: NOMBRE-ATM DEL RETIRO SELECCIONADO
              "200337":
                send-to-app: false
                variables-for-crm:
                 account: "data.^[id=='1'].components.^[code=='retiro'].text"
                 accountObj: "lastMoves.^[number==#account]"
                value-for-crm: "#accountObj.substring(12,8)"
              #"200338":
                # value-for-crm: COD-ATM DEL RETIRO SELECCIONADO
              "200340":
                index: 6
                <<: *crm-field-radiobutton
                header: "Tipo de devolución"
                options:
                  - code: "TOTAL"
                    title: "total"
                    showComponents: 
                      - code: "200314"
                        visibility: false
                  - code: "PARCIAL"
                    title: "Parcial"
                    showComponents:      
                      - code: "200314"
                        visibility: true
              "200341":
                send-to-app: false
                value-for-crm: "generalInfo.^[id=='dsciudad'].value"
              "200342":
                send-to-app: false
                value-for-crm: "generalInfo.^[id=='dscplan'].value"
              "200343":
                send-to-app: false
                value-for-crm: "generalInfo.^[id=='banpai'].value"
              "241904":
                send-to-app: false
                value-for-crm: "'LOGISTICA_BP_CAJEROS@BANPAIS.HN'"
          17449:
            debug: false
            title: "Reposición de tarjeta de crédito"
            sort-fields-policy: INDEX_ORDER
            core-services-pre-crm:
              generalInfo:
                service: app-infgra
                properties:
                  INFORMATION_TYPE: "'G'"
              infoAccounts:
                service: app-infgra
                properties:
                  INFORMATION_TYPE: "'C'"
            tags:
              - retiro
            steps:
              - id: "1"
                title: "Reposición de tarjeta de crédito"
                currentProgress: 0
                progressGoal: 0
                next-step: "finalStep"
                showCancelButton: true
            default-field-properties:
              step: "1"
            process-fields:
              "207065":
                send-to-app: false
                value-for-crm: "generalInfo.^[id=='CIF'].value"
              "207066":
                send-to-app: false
                value-for-crm: "'NATURAL'"
              "207067":
                send-to-app: false
                value-for-crm: "generalInfo.^[id=='NomCom'].value"
              "207068":
                send-to-app: false
                value-for-crm: "generalInfo.^[id=='numid'].value"
              "207069":
                index: 4
                <<: *crm-field-mail
                placeholder: "Ingresa tu correo electrónico"
              "207070":
                index: 3
                <<: *crm-field-phone
                placeholder: "Ingresa tu número de teléfono"
              "207071":
                send-to-app: false
                value-for-crm: "data.^[id==#field.getStep()].components.^[code==207070].text"
              "tarjeta":
                index: 2
                <<: *crm-field-accountsTC
                endpoint: /v1-crypt/crm/accounts?type=CREDIT_CARD&status=ACTIVE
              "207072":
                send-to-app: false
                variables-for-crm:
                 account: "data.^[id=='1'].components.^[code=='tarjeta'].text"
                 accountObj: "infoAccounts.^[number==#account].accountFormatted"
                value-for-crm: "#accountObj.substring(12,16)"
              "207073":
                send-to-app: false
                variables-for-crm:
                 account: "data.^[id=='1'].components.^[code=='tarjeta'].text"
                 accountObj: "infoAccounts.^[number==#account]"
                value-for-crm: "#accountObj.number"
              "direccion":
                index: 5
                <<: *crm-field-subform
                header: "Dirección"
                placeholder: "Ingresa una dirección"
                child-component:
                - components:
                    - code: barrio
                      <<: *crm-field-inputAlfa
                      hiddenHeader: true
                      placeholder: "Barrio/colonia/residencia"
                      without-padding-bottom: true
                    - code: calle
                      <<: *crm-field-inputAlfa
                      hiddenHeader: true
                      placeholder: "Calle"
                      without-padding-bottom: true
                    - code: avenida
                      <<: *crm-field-inputAlfa
                      hiddenHeader: true
                      placeholder: "Avenida"
                      without-padding-bottom: true
                    - code: bloque
                      <<: *crm-field-inputAlfa
                      hiddenHeader: true
                      placeholder: "Bloque"
                      without-padding-bottom: true
                    - code: etapa
                      <<: *crm-field-inputAlfa
                      hiddenHeader: true
                      placeholder: "Etapa"
                      without-padding-bottom: true
                    - code: puntref
                      <<: *crm-field-inputAlfa
                      hiddenHeader: true
                      placeholder: "Punto de referencia"
                      without-padding-bottom: true
                    - code: casa
                      <<: *crm-field-inputAlfa
                      hiddenHeader: true
                      placeholder: "No. de casa"
                      without-padding-bottom: true
                    - code: coddep
                      <<: *crm-field-dropdown
                      hiddenHeader: true
                      placeholder: "Departamento"
                      without-padding-bottom: true
                      endpoint: "/v1-crypt/catalogs/departments?codpai=001"
                      dropdown-id: "coddep"
                    - code: codmun 
                      <<: *crm-field-dropdown #missing
                      hiddenHeader: true
                      placeholder: "Municipio"
                      without-padding-bottom: true
                      endpoint: "/v1-crypt/catalogs/municipalities?codpai=001"
                      dropdown-id: "coddmun"
                      parent: "coddep"
              "207074":
                send-to-app: false
                value-for-crm: "#joinWithoutNull(' ',data.^[id=='1'].components.^[code=='direccion'].childComponent[0].components.^[code=='barrio'].text
                                                    ,data.^[id=='1'].components.^[code=='direccion'].childComponent[0].components.^[code=='calle'].text
                                                    ,data.^[id=='1'].components.^[code=='direccion'].childComponent[0].components.^[code=='avenida'].text
                                                    ,data.^[id=='1'].components.^[code=='direccion'].childComponent[0].components.^[code=='bloque'].text
                                                    ,data.^[id=='1'].components.^[code=='direccion'].childComponent[0].components.^[code=='etapa'].text
                                                    ,data.^[id=='1'].components.^[code=='direccion'].childComponent[0].components.^[code=='puntref'].text
                                                    ,data.^[id=='1'].components.^[code=='direccion'].childComponent[0].components.^[code=='casa'].text
                                                    ,data.^[id=='1'].components.^[code=='direccion'].childComponent[0].components.^[code=='departamento'].text
                                                    ,data.^[id=='1'].components.^[code=='direccion'].childComponent[0].components.^[code=='municipio'].text)"
              "207075":
                send-to-app: false
                value-for-crm: "#joinWithoutNull(' ',data.^[id=='1'].components.^[code=='direccion'].childComponent[0].components.^[code=='barrio'].text
                                                    ,data.^[id=='1'].components.^[code=='direccion'].childComponent[0].components.^[code=='calle'].text
                                                    ,data.^[id=='1'].components.^[code=='direccion'].childComponent[0].components.^[code=='avenida'].text
                                                    ,data.^[id=='1'].components.^[code=='direccion'].childComponent[0].components.^[code=='bloque'].text
                                                    ,data.^[id=='1'].components.^[code=='direccion'].childComponent[0].components.^[code=='etapa'].text
                                                    ,data.^[id=='1'].components.^[code=='direccion'].childComponent[0].components.^[code=='puntref'].text
                                                    ,data.^[id=='1'].components.^[code=='direccion'].childComponent[0].components.^[code=='casa'].text
                                                    ,data.^[id=='1'].components.^[code=='direccion'].childComponent[0].components.^[code=='departamento'].text
                                                    ,data.^[id=='1'].components.^[code=='direccion'].childComponent[0].components.^[code=='municipio'].text)"
              "207076":
                send-to-app: false
                value-for-crm: "generalInfo.^[id=='banpai'].value"
              "207077":
                send-to-app: false
                value-for-crm: "generalInfo.^[id=='dszona'].value"
              "403240":
                index: 6
                send-to-app: true
                title:  "Motivo de reposición"
                header: "Motivo de reposición" 
                type: "RADIOBUTTON"
          21829:
            debug: false
            title: "Solicitud de tarjeta de crédito - PREVIEW"
            sort-fields-policy: INDEX_ORDER
            core-services-pre-crm:
              generalInfo:
                service: app-infgra
                properties:
                  INFORMATION_TYPE: "'G'"
              infoAccounts:
                service: app-infgra
                properties:
                  INFORMATION_TYPE: "'C'"
            tags:
              - retiro
            steps:
              - id: "1"
                title: "Solicitud de tarjeta de crédito"
                currentProgress: 0
                progressGoal: 0
                next-step: "finalStep"
                showCancelButton: true
            default-field-properties:
              step: "1"
            process-fields:
              "388328":
                index: 2
                <<: *crm-field-mail
                header: "Ingresa tus datos personales"
              "388335":
                index: 3
                <<: *crm-field-phone
                hiddenHeader: true
                placeholder: "No. de celular"
              "388323":
                index: 4
                <<: *crm-field-inputNumber
                hiddenHeader: true
                placeholder: "RTN"
              "388416":
                index: 5
                <<: *crm-field-inputAlfa
                hiddenHeader: true
                placeholder: "Barrio/colonia/residencial"
              "388417":
                index: 6
                <<: *crm-field-inputAlfa
                hiddenHeader: true
                placeholder: "Calle"
              "388418":
                index: 7
                <<: *crm-field-inputAlfa
                hiddenHeader: true
                placeholder: "Avenida"
              "388419":
                index: 8
                <<: *crm-field-inputAlfa
                hiddenHeader: true
                placeholder: "Bloque"
              "388420":
                index: 9
                <<: *crm-field-inputAlfa
                hiddenHeader: true
                placeholder: "Etapa"
              "388421":
                index: 10
                <<: *crm-field-inputAlfa
                hiddenHeader: true
                placeholder: "Punto de referencia"
              "388331":
                index: 11
                <<: *crm-field-inputAlfa
                hiddenHeader: true
                placeholder: "No. de casa"
              "388332":
                index: 12
                <<: *crm-field-dropdown
                header: "Departamento"
                placeholder: "Selecciona un departamento"
                endpoint: "/v1-crypt/catalogs/departments?codpai=001"
                dropdown-id: "coddep"
              "388333": # missing
                index: 13
                <<: *crm-field-dropdown
                header: "Municipio"
                placeholder: "Selecciona un municipio"
                endpoint: "/v1-crypt/catalogs/municipalities?codpai=001"
                parent: "388332"
                dropdown-id: "codmun"
            #---No en APP---#
            #  "388458":
            #    value-for-crm: "generalInfo.^[id=='DatosGrales'].properties.^[id=='prinom'].value" +" "+ "generalInfo.^[id=='DatosGrales'].properties.^[id=='segnom'].value"
            #  "453227":
            #    value-for-crm: "generalInfo.^[id=='DatosGrales'].properties.^[id=='priape'].value" +" "+ "generalInfo.^[id=='DatosGrales'].properties.^[id=='segape'].value"  
            #  "388324":
            #    value-for-crm: "generalInfo.^[id=='DatosGrales'].properties.^[id=='numeidsb'].value" 
            #  "388325":
            #    value-for-crm: "generalInfo.^[id=='DatosGrales'].properties.^[id=='fecnac'].value"
            #  "388326":
            #    value-for-crm: "generalInfo.^[id=='DatosGrales'].properties.^[id=='sexo'].value"
            #  "388327":
            #    value-for-crm: "generalInfo.^[id=='DatosGrales'].properties.^[id=='dsceci'].value"
            #  "388334":
            #    send-to-app: true
            #  "388336":
            #    send-to-app: true
            #  "388348":
            #    value-for-crm:"' '"
            #  "388350":
            #    send-to-app: true
            #  "388415":
            #    value-for-crm:"'NO'"
            #  "388351":
            #    value-for-crm:"'00000'"
            #  "388352":
            #    value-for-crm:"' '"
            #  "388353":
            #    value-for-crm:"' '"
            #  "388354":
            #    value-for-crm:"'1'"
            #  "388355":
            #    value-for-crm:"'1 AGENCIA TORRE DEL PAIS'"
            #  "388386":
            #    value-for-crm:"'NO'"
            #  "388387":
            #    value-for-crm:"' '"
            #  "388380":
            #    value-for-crm:"' '"
            #  "388430":
            #    send-to-app: true
            #  "388356":
            #    value-for-crm:"' '"
            #  "388357":
            #    value-for-crm:"' '"
            #  "388359":
            #    value-for-crm:"'A - AMBOS'"
            #  "388389":
            #    value-for-crm:"' '"
            #  "388390":
            #    value-for-crm:"' '"
            #  "388391":
            #    value-for-crm:"' '"
            #  "388392":
            #    value-for-crm:"' '"
            #  "388393":
            #    value-for-crm:"' '"
            #  "388394":
            #    value-for-crm:"' '"
            #  "388395":
            #    value-for-crm:"' '"
            #  "388396":
            #    value-for-crm:"' '"
            #  "388397":
            #    value-for-crm:"' '"
            #  "388398":
            #    value-for-crm:"' '"
            #  "388399":
            #    value-for-crm:"' '"
            #  "388400":
            #    value-for-crm:"' '"
            #  "388401":
            #    value-for-crm:"' '"
            #  "388402":
            #    value-for-crm:"' '"
            #  "388403":
            #    value-for-crm:"' '"
            #  "388404":
            #    value-for-crm:"' '"
            #  "388405":
            #    value-for-crm:"' '"
            #  "388406":
            #    value-for-crm:"' '"
            #  "388407":
            #    value-for-crm:"' '"
            #  "388408":
            #    value-for-crm:"' '"
            #  "388409":
            #    value-for-crm:"' '"
            #  "388410":
            #    value-for-crm:"' '"
            #  "388437":
            #    send-to-app: true
            #  "388438":
            #    value-for-crm:"' '"
            #  "388439":
            #    value-for-crm:"'0'"
            #  "388440":
            #    value-for-crm:"'0'"
            #  "388459":
            #    value-for-crm:"'0'"
            #  "388460":
            #    send-to-app: true
            #  "388461":
            #    value-for-crm:"'2.1.080'"
            #  "388462":
            #    value-for-crm: "generalInfo.^[id=='DatosGrales'].properties.^[id=='dszona'].value"
            #  "388463":
            #    value-for-crm: "generalInfo.^[id=='DatosGrales'].properties.^[id=='banpai'].value"
          16114:
            debug: false
            title: "Solicitud de constancia de prestamo - PREVIEW"
            sort-fields-policy: INDEX_ORDER
            core-services-pre-crm:
              generalInfo:
                service: app-infgra
                properties:
                  INFORMATION_TYPE: "'G'"
              infoAccounts:
                service: app-infgra
                properties:
                  INFORMATION_TYPE: "'C'"
            tags:
              - retiro
            steps:
              - id: "1"
                title: "Solicitud de constancia de prestamo"
                currentProgress: 0
                progressGoal: 0
                next-step: "finalStep"
                showCancelButton: true
            default-field-properties:
              step: "1"
            process-fields:
              "442047":
                index: 2
                <<: *crm-field-mail
                header: "Ingresa tus datos personales"
              "442048":
                index: 3
                <<: *crm-field-phone
                hiddenHeader: true
                placeholder: "No. de celular"
              "442049":
                index: 4
                <<: *crm-field-inputAlfa
                hiddenHeader: true
                placeholder: "Dirección de residencia"
              "217004":
                index: 5
                <<: *crm-field-radiobutton
                header: "Tipo de constancia" 
                options:
                  - title: FINIQUITOS
                    code: Finiquitos
                    index: 1
                    showComponents:
                      - code: "final"
                        visibility: true
                      - code: "cita"
                        visibility: false
                      - code: "proyectada"
                        visibility: false
                  - title: SALDOS
                    code: Saldos
                    index: 2
                    showComponents:
                      - code: "final"
                        visibility: false
                      - code: "cita"
                        visibility: false
                      - code: "proyectada"
                        visibility: false
                  - title: SALDOS PROYECTADOS
                    code: Saldos proyectados
                    index: 3
                    showComponents:
                      - code: "final"
                        visibility: false
                      - code: "cita"
                        visibility: false
                      - code: "proyectada"
                        visibility: true
                  - title: EMBAJADA
                    code: Embajada
                    index: 4
                    showComponents:
                      - code: "final"
                        visibility: false
                      - code: "cita"
                        visibility: true
                      - code: "proyectada"
                        visibility: false
              "cita":
                index: 6
                <<: *crm-field-date
                header: "Fecha de la cita en la embajada"
                hidden: true
              "final":
                index: 7
                <<: *crm-field-date
                header: "Fecha Final"
                hidden: true
              "proyectada":
                index: 8
                <<: *crm-field-date
                header: "Fecha proyectada"
                hidden: true
              "ptmos":
                index: 9
                <<: *crm-field-inputList
                header: "Préstamo"
                placeholder: "Ingrese el No. de prestamo"
                maxItems: 5
                defaultItems: 1
                titleButtonAdd: "+ Agregar otro préstamo"
              "185810":
                index: 10
                <<: *crm-field-selage
              "cuenta":
                index: 11
                <<: *crm-field-inputAlfa
                header: "Constancia dirigida a"
                placeholder: "Ingresa el nombre de la empresa/persona"
              "checkbox":
                index: 12
                <<: *crm-field-checkbox
                header: "Autorizar a un tercero para recoger constancia"
                type: "CHECKBOX"
              "nombre":
                index: 13
                <<: *crm-field-inputAlfa
                header: "Ingresa los datos del tercero"
                placeholder: "Nombre completo"
                hidden: true
              "identidad":
                index: 14
                <<: *crm-field-inputAlfa
                hiddenHeader: true
                placeholder: "No. de identidad"
                hidden: true
              "msg1":
                index: 15
                <<: *crm-field-message
                header-text-policy: none
                header: "NOTA:"
                text: "La comisión por emisión de la constancia es de L.150.00\\n\\t•Solicitudes recibidas después de las 4:00 PM procesarán al siguiente día hábil.\\n\\t•Su constancia estará disponible en la agencia solicitada en 4 días hábiles."
            #---No en APP---#
            #  "442044":
            #    value-for-crm: "generalInfo.^[id=='DatosGrales'].properties.^[id=='NomCom'].value"
            #  "442045":
            #    value-for-crm: "generalInfo.^[id=='DatosGrales'].properties.^[id=='numeid'].value"
            #  "444760":
            #    value-for-crm: "generalInfo.^[id=='DatosGrales'].properties.^[id=='tipoid'].value"
            #  "442046":
            #    value-for-crm: "generalInfo.^[id=='DatosGrales'].properties.^[id=='CIF'].value"
            #  "442043":
            #    value-for-crm:"' '"
            #  "442053":
            #    value-for-crm:"' '"
            #  "442054":
            #    value-for-crm:"' '"
            #  "442055":
            #    value-for-crm: "generalInfo.^[id=='DatosGrales'].properties.^[id=='banpai'].value"
            #  "442056":
            #    value-for-crm: "generalInfo.^[id=='DatosGrales'].properties.^[id=='dszona'].value"
            #  "443033":
            #    send-to-app: true
            #  "443036":
            #    send-to-app: true
            #  "444692":
            #    send-to-app: true
            #  "444693":
            #    send-to-app: true
            #  "443037":
            #    send-to-app: true
            #  "443038":
            #    send-to-app: true
            #  "443040":
            #    send-to-app: true
            #  "443044":
            #    send-to-app: true
            #  "443045":
            #    send-to-app: true
            #  "443047":
            #    value-for-crm:"' '"
            #  "443049":
            #    value-for-crm:"' '"
            #  "443051":
            #    value-for-crm:"' '"
            #  "443053":
            #    value-for-crm:"' '"
            #  "443055":
            #    value-for-crm:"' '"
            #  "443056":
            #    value-for-crm:"' '"
            #  "443057":
            #    value-for-crm:"' '"
            #  "443064":
            #    value-for-crm:"' '"
            #  "443107":
            #    value-for-crm:"'2.1.080'"
            #  "444063":
            #    value-for-crm:"' '"
            #  "444064":
            #    value-for-crm:"' '"
            #  "444725":
            #    value-for-crm:"' '"
          21839:
            debug: false
            title: "Solicitud de canje de puntos - CALC"
            sort-fields-policy: INDEX_ORDER
            core-services-pre-crm:
              generalInfo:
                service: app-infgra
                properties:
                  INFORMATION_TYPE: "'G'"
              infoAccounts:
                service: app-infgra
                properties:
                  INFORMATION_TYPE: "'C'"
            tags:
              - retiro
            steps:
              - id: "1"
                title: "Solicitud de canje de puntos"
                currentProgress: 0
                progressGoal: 0
                next-step: "finalStep"
                showCancelButton: true
            default-field-properties:
              step: "1"
            process-fields:
              "388703":
                send-to-app: false
                value-for-crm: "generalInfo.^[id=='NomCom'].value" 
              "388704":
                send-to-app: false
                value-for-crm: "generalInfo.^[id=='numeid'].value"
              "388705":
                index: 3
                <<: *crm-field-mail
                header: "Ingresa tus datos personales"
              "388706":
                index: 4
                <<: *crm-field-phone
                hiddenHeader: true
                placeholder: "No. de celular"
              "388716":
                send-to-app: false
                value-for-crm: "generalInfo.^[id=='banpai'].value"
              "388717":
                send-to-app: false
                value-for-crm: "generalInfo.^[id=='dszona'].value"
              "tarjeta":
                index: 2
                <<: *crm-field-accountsTC
                endpoint: /v1-crypt/crm/accounts?type=CREDIT_CARD&status=ACTIVE
              "388707":
                send-to-app: false
                variables-for-crm:
                 account: "data.^[id=='1'].components.^[code=='tarjeta'].text"
                 accountObj: "infoAccounts.^[number==#account].accountFormatted"
                value-for-crm: "#accountObj.substring(12,16)"
              "388708":
                send-to-app: false
                variables-for-crm:
                 account: "data.^[id=='1'].components.^[code=='tarjeta'].text"
                 accountObj: "infoAccounts.^[number==#account]"
                value-for-crm: "#accountObj.number"
              "388709":
                index: 5
                <<: *crm-field-inputAlfa
                header: "Lugar o Comercio"
                placeholder: "Ingresa el nombre del comercio"
              "388710":
                index: 7
                <<: *crm-field-valor
                header: "Valor de la compra"
              "388711":
                index: 8
                <<: *crm-field-date
                header: "Fecha de la transacción"
              "388712":
                index: 9
                send-to-app: true
                header: "Cantidad de BP puntos a canjear"
                placeholder: "0.00"
                type: "CALC"
                keyboard: "NUMERIC"
                endpoint: "/v1-crypt/crm/calculate" 
                options:
                  - showComponents:
                      - code: "388713"
                        setValueService: "valorCredito"
                        visibility: true
                        disabled: true
              "388713": #missing
                index: 10
                <<: *crm-field-inputDisabled
                header: "Valor del credito"
                placeholder: "0.00"
                text: "0.00"
              "388714":
                send-to-app: false
                value-for-crm: "' '"
              "388715":
                send-to-app: false
                value-for-crm: "'L'"
              "388718":
                index: 6
                <<: *crm-field-dropdown
                header: "Tipo de canje"
                placeholder: "Selecciona el tipo de canje"
                options:
                  - code: "PAGO DE TARJETA DE CRÉDITO"
                    title: "PAGO DE TARJETA DE CRÉDITO"
                    showComponents: 
                      - code: "388712"
                        visibility: true
                        setValueService: "PuntosTC"
                  - code: "BOLETO AEREO/AGENCIA DE VIAJES"
                    title: "BOLETO AEREO/AGENCIA DE VIAJES"
                    showComponents:      
                      - code: "388712"
                        visibility: true
                        setValueService: "PuntosViajes"
            functions:
              "PuntosTC":
                resolver-bean-name: crmSimpleParametersResolver
                core-function: "0000000003"
                arguments:
                  - name: puntos
                    expression: "data.^[id=='1'].components.^[code=='388712'].text"
                    input-formatter: crmDefaultNumberConverter
                result-fields:
                  - name: valorCredito
                    expression: "results.^[id=='Resultados'].groups.^[id=='rTotal'].value"
              "PuntosViajes":
                resolver-bean-name: crmSimpleParametersResolver
                core-function: "0000000005"
                arguments:
                  - name: puntos
                    expression: "data.^[id=='1'].components.^[code=='388712'].text"
                    input-formatter: crmDefaultNumberConverter
                result-fields:
                  - name: valorCredito
                    expression: "results.^[id=='Resultados'].groups.^[id=='rTotal'].value"
    transactions:
      app-infgra:
        <<: *default-core-service
      app-catgen:
        <<: *default-core-service
      app-cnmovt:
        <<: *default-core-service
      app-opefor:
        <<: *default-core-service
      app-debtar:
        <<: *default-core-service          
    transaction:
      manager:
        map-transacions:
          app-infgra:
            bean-name: regionalCrmGeneralInformationTransaction
          app-catgen:
            bean-name: generalCatalogTransaction
          app-cnmovt:
            bean-name: regionalCrmLastMovementsTransaction
          app-debtar:
            bean-name: regionalCrmAccountDebitedTransaction
          app-opefor:
            bean-name: regionalCrmCalcTransaction
    logging:
      level:
        com.bytesw.tyu.bi.components.crm.management.services: trace
